<!DOCTYPE html>
<html ng-app="mainApp">

    <head>
        <title>Financial Model</title>

        <link href="http://s3.amazonaws.com/codecademy-content/courses/ltp/css/shift.css" rel="stylesheet">
        <link rel="stylesheet" href="css/bootstrap.css">
        <link rel="stylesheet" href="css/main.css">

    </head>

    <body ng-controller="DisplayBoxController as display">
        <!--Included Scripts-->
        <script type="text/javascript" src="js/angular.min.js"></script>
        <script type="text/javascript" src="js/angular-apps/app.js"></script>
        <script type="text/javascript" src="js/angular-apps/nav-app.js"></script>
        <!--Navigation Bar-->
        <div ng-include="'templates/header.html'"></div>
        <!--Jumbotron-->
        <div class="jumbotron" style="background-image: url(img/financial_model.jpg)">
            <div class="container" >
                <h1>Financial Model</h1>
                <p>How our community will share costs</p>
            </div>
        </div>
        <div class="list-group">
            <!--STL Income Distribution Table-->
                        <div class="list-group-item">
                <table class="table">
                    <caption>Income Distribution Table</caption>
                    <thead>
                        <tr>
                            <th>Annual Income Distribution Groups</th>
                            <th>Representative Annual Income for Each Group</th>
                            <th>Distribution Percentage</th>
                            <th>Num of Households with Income Given 12 Households</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="value in display.representativeIncomes">
                            <td>{{display.incomeGroups[$index]}}</td>
                            <td>{{display.representativeIncomes[$index] | currency}}</td>
                            <td>{{display.distributionPct[$index]}}</td>
                            <td>{{display.peoplePerIncomeStatic[$index] | number:2 }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!--Monthly Payment Calculator-->
            <div class="list-group-item">
                <h3>Interactive Monthly Payment Calculator</h3>
                <h5>Use this interactive tool to estimate what your household's
                    monthly mortgage payment will be once the community is built. </h5>
            </div>
            <!--Form-->
            <div class="list-group-item">
                <form name="inputForm" ng-submit="display.calcMonthlyPayment()">
                    <div class="form-group">
                        <label for="annualIncome">Annual Household Income</label>
                        <input type="number" class="form-control" ng-model="display.annualIncome" id="annualIncome" min="0" max="1000000000">
                    </div>
                    <div class="form-group">
                        <label for="costOfProperty">Total Cost of Property Acquisition (Purchase + Rehab)</label>
                        <input type="number" class="form-control" ng-model="display.costOfProperty" id="costOfProperty" min="0" max="1000000000">
                    </div>
                    <div class="form-group">
                        <label for="apr">Annual Percentage Rate for Mortgage</label>
                        <br>
                        <select name="apr" class="form-control" ng-model="display.apr" ng-options="value for value in [1,2,3,4,5]">
                            <option value=""></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="numberOfUnits">Number Of Units: {{display.numOfUnits}}</label>
                        <input type="range" class="form-control" ng-model="display.numOfUnits" id="numberOfUnits" min="12" max="20" step="1">
                    </div>
                    <div class="form-group">
                        <input type="submit" class="form-control" value="Submit"> 
                    </div>


                </form>  
            </div>
            <!--Result Section-->

            <div class="list-group-item">
                <table class="table">
                    <caption>Monthly Household Mortgage Payments According to 
                        Cost Sharing Model</caption>
                    <thead>
                        <tr>
                            <th>Cost Sharing Model</th>
                            <th>Group Monthly Mortgage Payment</th>
                            <th>Your Household Monthly Payment</th>
                            <th>Pct of Your Monthly Income</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="value in display.resultsObject.costSharingModels">
                            <td>{{display.resultsObject.costSharingModels[$index]}}</td>
                            <td>{{display.groupMonthlyMortgagePayment | currency}}</td>
                            <td>{{display.resultsObject.householdMonthlyPayment[$index] | currency}}</td>
                            <td>{{display.resultsObject.pctMonthlyIncome[$index] | number:2 }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </body>
</html>
